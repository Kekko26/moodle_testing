HOWTO Prepare branches with en_fix strings for integration
==========================================================

To make it easier for the community to participate on fixing/rewording strings in the English language pack for standard
components (core and standard plugins), the en_fix language pack is created in AMOS. Every two months before the release, strings
accumulated in AMOS are submitted for integration and merged into moodle.git. When they become part of moodle.git, strings are
removed from the en_fix language pack in AMOS. This article describes how to prepare en_fix branches to be submitted for
integration.

1. Create (clone) an issue in the tracker to cover this task.

    <https://tracker.moodle.org/issues/?jql=summary ~ "Import fixed English strings (en_fix) into the main English pack" ORDER BY key DESC>

2. Run enfix-export.php at the AMOS server and download data generated by it.

    # cd ~/tmp
    # ssh -t access-eu.srv.in.moodle.com 'kubectl --context eks-production exec -it -c app $(~/bin/podname lang.moodle.org) -- /bin/bash -c "cd /opt/app/local/amos/cli/ && sudo -u www-data php enfix-export.php && cd /opt/data/amos && tar czf /tmp/export-enfix.tgz export-enfix && ls -al /tmp/export-enfix.tgz" && kubectl --context eks-production cp -c app $(~/bin/podname lang.moodle.org):/tmp/export-enfix.tgz ~/export-enfix.tgz' && rsync -avP access-eu.srv.in.moodle.com:~/export-enfix.tgz . && tar xf export-enfix.tgz

3. Go to your mdk moodle.git checkout and make a branch to be submitted for integration.

    # cd /path/to/moodle/git/clone
    # mdk fix MDL-xxxx enfix

4. Apply the changes to the string files and push them to the tracker.

    # mdk run enfix

5. Repeat steps 3 and 4 for supported STABLE branches.
